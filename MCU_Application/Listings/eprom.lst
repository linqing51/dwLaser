C51 COMPILER V9.59.0.0   EPROM                                                             01/29/2019 14:24:57 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE EPROM
OBJECT MODULE PLACED IN .\Objects\eprom.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Driver\eprom.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Lib;.\Driver;.\MainApp\
                    -sPlc;.\MainApp\sPlc_Port;.\Modbus;.\MainApp) DEBUG OBJECTEXTEND CODE LISTINCLUDE SYMBOLS PRINT(.\Listings\eprom.lst) PRE
                    -PRINT(.\Listings\eprom.i) OBJECT(.\Objects\eprom.obj)

line level    source

   1          #include "eprom.h"
   1      =1  #ifndef __EPROM_H__
   2      =1  #define __EPROM_H__
   3      =1  /*****************************************************************************/
   4      =1  #include "appConfig.h"
   1      =2  #ifndef __APPCONFIG_H__
   2      =2  #define __APPCONFIG_H__
   3      =2  /*****************************************************************************/
   4      =2  #define DEBUG_LED_ON                                            0
   5      =2  #define DEBUG_LED_OFF                                           1
   6      =2  <<<<<<< HEAD
*** ERROR C141 IN LINE 6 OF .\MainApp\appConfig.h: syntax error near '<<', expected 'hdata'
   7      =2  #define CONFIG_SYSCLK                       (48000000L)//F580ÄÚ²¿48M
   8      =2  =======
*** ERROR C129 IN LINE 8 OF .\MainApp\appConfig.h: missing ';' before '=='
   9      =2  #define CONFIG_SYSCLK                       (22118400L)
*** WARNING C317 IN LINE 9 OF .\MainApp\appConfig.h: attempt to redefine macro 'CONFIG_SYSCLK'
  10      =2  #ifdef C8051F020
           =2 >>>>>>> MCFCL_25MP
           =2 #define SAR_CLK                                                 2000000L//ADC0Ê±ÖÓ <2.5MHz
           =2 #define CONFIG_DEBUG                        0//µ÷ÊÔ¹¦ÄÜ
           =2 <<<<<<< HEAD
           =2 #define CONFIG_USING_WDT                                        0//Ê¹ÄÜ¿´ÃÅ¹·
           =2 #define CONFIG_USING_RESET                                      0//Ê¹ÄÜPLC¸´Î»MCU¹¦ÄÜ
           =2 #define CONFIG_LADDER_SECTORS_START                     64//Ö¸ÁîÆðÊ¼µØÖ·
           =2 #define CONFIG_LADDER_SECTORS_END                       128//Ö¸Áî½áÊøµØÖ·
           =2 #define CONFIG_LASERTIMER_OVERFLOW_US           1000L//¶¨Ê±Æ÷ÖÜÆÚ 1mS
           =2 #define CONFIG_VERSION                                          0x0001
           =2 #define CONFIG_CHECK_CODE                                       0x5A7E
           =2 
           =2 =======
           =2 >>>>>>> MCFCL_25MP
           =2 /*****************************************************************************/
           =2 #define CONFIG_UART0_BAUDRATE                           115200//´®¿Ú²¨ÌØÂÊ
           =2 #define CONFIG_UART0_PARITY                                     NONE
           =2 #define CONFIG_UART0_STOPBIT                            1
           =2 #define CONFIG_UART0_DATABIT                            8
           =2 
           =2 #define CONFIG_UART1_BAUDRATE                           9600//´®¿Ú²¨ÌØÂÊ
           =2 #define CONFIG_UART1_PARITY                                     NONE
           =2 #define CONFIG_UART1_STOPBIT                            1
           =2 #define CONFIG_UART1_DATABIT                            8
           =2 /*****************************************************************************/
           =2 <<<<<<< HEAD
           =2 #define CONFIG_I2C0_FREQ                                        1            
           =2 #define CONFIG_I2C1_FREQ                                        1
           =2 #define CONFIG_I2C2_FREQ                                        1
           =2 #define CONFIG_I2C3_FREQ                                        1
           =2 #define CONFIG_I2C4_FREQ                                        1
           =2 =======
           =2 #define CONFIG_I2C0_FREQ                                        1 
           =2 >>>>>>> MCFCL_25MP
           =2 #define CONFIG_I2C_WAITACT_TIME                         250
C51 COMPILER V9.59.0.0   EPROM                                                             01/29/2019 14:24:57 PAGE 2   

           =2 /*****************************************************************************/
           =2 #define CONFIG_EPROM_DEBUG                                      0
           =2 #define CONFIG_EPROM_SIZE                                       CONFIG_AT24C64_SIZE
           =2 #define CONFIG_AT24C02_SIZE                             256
           =2 #define CONFIG_AT24C04_SIZE                             512
           =2 #define CONFIG_AT24C08_SIZE                             1024
           =2 #define CONFIG_AT24C16_SIZE                             2048
           =2 #define CONFIG_AT24C32_SIZE                             4096
           =2 #define CONFIG_AT24C64_SIZE                                     8192
           =2 #define CONFIG_AT24C128_SIZE                            16384
           =2 #define CONFIG_AT24C256_SIZE                            32768
           =2 #define CONFIG_EPROM_ADDRESS                            0x50
           =2 #define CONFIG_EPROM_FRAM                                       0//Ìúµç´æ´¢ÌåÎÞÐ´ÈëµÈ´ý
           =2 <<<<<<< HEAD
           =2 #define CONFIG_EPROM_FREQ                                       1//
           =2 #define CONFIG_EPROM_PAGEWRITE                          0//Ò³Ð´Èë
           =2 /*****************************************************************************/
           =2 #define CONFIG_USE_IPID                                         1//Ê¹ÄÜIPIDÎÂ¶È¿ØÖÆ
           =2 /*****************************************************************************/
           =2 #define CONFIG_USE_HWVER_SHOW                           1//Ê¹ÄÜ¹Ì¼þ°æ±¾ÏÔÊ¾
           =2 #define CONFIG_USE_MPD1_SHOW                            1//Ê¹ÄÜMPD1²âÁ¿ÏÔÊ¾
           =2 #define CONFIG_USE_MPD2_SHOW                            1//Ê¹ÄÜMPD2²âÁ¿ÏÔÊ¾
           =2 #define CONFIG_USE_FBS1                                         1//Ê¹ÄÜFBS1¼ì²â
           =2 #define CONFIG_USE_FBS2                                         1//Ê¹ÄÜFBS2¼ì²â
           =2 #define CONFIG_USE_LASER_TEMP                           1//Ê¹ÄÜ¼¤¹âÆ÷ÎÂ¶ÈÏÔÊ¾
           =2 #define CONFIG_USE_RADIATOR_TEMP                        1//Ê¹ÄÜÉ¢ÈÈÆ÷ÎÂ¶ÈÏÔÊ¾
           =2 #define CONFIG_USE_ENVI_TEMP                            1//Ê¹ÄÜ»·¾³ÎÂ¶ÈÏÔÊ¾
           =2 #define CONFIG_USE_IPID_UPDATE                          1//Ê¹ÄÜIPID²ÎÊý¸üÐÂ¹¦ÄÜ
           =2 #define CONFIG_USE_IPID_OUTSHOW                         1//Ê¹ÄÜIPIDÊä³öÏÔÊ¾
           =2 =======
           =2 #define CONFIG_EPROM_PAGEWRITE                          0//Ò³Ð´Èë
           =2 >>>>>>> MCFCL_25MP
           =2 /*****************************************************************************/
           =2 //SPLCÉèÖÃ
           =2 #define CONFIG_SPLC_ASSERT                                      1//¼ì²éµØÖ··¶Î§
           =2 #define CONFIG_SPLC_DEV                                         0x0A01//Éè±¸ºÅ
           =2 #define CONFIG_SPLC_CLEAR_CODE                          0xA58E
           =2 #define CONFIG_SOFTPLC_HWTIME                           1000L//1mS
           =2 #define CONFIG_INPUT_FILTER_TIME                        3//ÊäÈëÊý×ÖÂË²¨É¨ÃèÖÜÆÚ 1mS * N
           =2 /*****************************************************************************/
           =2 #define CONFIG_SPLC_USING_CLEAR_NVRAM           1//ÆôÓÃÇå³ýNVRAM¹¦ÄÜ
           =2 /*****************************************************************************/
           =2 #define CONFIG_SPLC_USING_WDT                           1//¿´ÃÅ¹·ÆôÓÃ
           =2 /*****************************************************************************/
           =2 #define CONFIG_SPLC_USING_IO_INPUT                      1//ÊäÈëIOË¢ÐÂÆôÓÃ
           =2 /*****************************************************************************/
           =2 #define CONFIG_SPLC_USING_IO_OUTPUT                     1//Êä³öIOË¢ÐÂÆôÓÃ
           =2 /*****************************************************************************/
           =2 #define CONFIG_SPLC_USING_EPROM                         1//EPROMµôµç´æ´¢ÆôÓÃ
           =2 /*****************************************************************************/
           =2 #define CONFIG_SPLC_USING_UART1                         1//UART1´®¿ÚÆôÓÃ
           =2 #if CONFIG_SPLC_USING_UART1 == 1
           =2 #define SPLC_UART1                                                      1
           =2 #endif
           =2 /*****************************************************************************/
           =2 #define CONFIG_SPLC_USING_CADC                          1//Ê¹ÄÜADCÄ£¿é
           =2 #define CONFIG_SPLC_ADC_FILTER_TAP                      14//ADCÎ»ÒÆÂË²¨´ÎÊý
           =2 #define CONFIG_SPLC_ADC_CHANNLE                         64//ADCÍ¨µÀÊý
           =2 #define CONFIG_SPLC_ADC_TEMP_SENSOR_GAIN    3330L// Temp Sensor Gain in (uV / degC)
           =2 #define CONFIG_SPLC_ADC_TEMP_SENSOR_OFFSET  856L// Temp Sensor Offset in mV
           =2 #define CONFIG_SPLC_ADC_INTERNAL_VREF           2400L// ADC Voltage Reference (mV)
           =2 #define CONFIG_SPLC_ADC_AMBIENT             25L// Ambient temp in deg C
C51 COMPILER V9.59.0.0   EPROM                                                             01/29/2019 14:24:57 PAGE 3   

           =2 /*****************************************************************************/
           =2 #define CONFIG_SPLC_USING_DAC                           1//ÊÇÄÜDACÄ£¿é
           =2 /*****************************************************************************/
           =2 #define CONFIG_SPLC_USING_MB_RTU_SLAVE          1//ÊÇÄÜMODBUS RTU´ÓÕ¾
           =2 #define CONFIG_MB_RTU_SLAVE_TIMER                       1000L//1000uS
           =2 #define CONFIG_MB_RTU_SLAVE_ADDRESS                     0x01//´ÓÉè±¸µØÖ·
           =2 #define CONFIG_MB_RTU_SLAVE_BUFFER_SIZE         256//·¢ËÍ½ÓÊÕ»º³åÇø
           =2 #define CONFIG_MB_RTU_SLAVE_TIMEOUT                     100//½ÓÊÕÍ¨Ñ¶³¬Ê± 10mS
           =2 #define CONFIG_MB_RTU_SLAVE_IO_DELAY            1//RX TXÇÐ»»ÑÓÊ±
           =2 /*****************************************************************************/
           =2 <<<<<<< HEAD
           =2 /*****************************************************************************/
           =2 #define DISABLE_MODBUS_SERIAL_INTERRUPT         ES0 = 0;
           =2 #define ENABLE_MODBUS_SERIAL_INTERRUPT          ES0 = 1;
           =2 #define DISABLE_INTERRUPT                                       EA = 0;
           =2 #define ENABLE_INTERRUPT                                        EA = 1;
           =2 /*****************************************************************************/
           =2 
           =2 /*****************************************************************************/
           =2 #define ID_ONLY_1_CHANNEL                                       4321
           =2 #define ID_ONLY_2_CHANNEL                                       8765
           =2 #define ID_BOTH_CHANNEL                                         9431
           =2 #define ID_LASER_MODE_CW                                        7631
           =2 #define ID_LASER_MODE_SP                                        8934
           =2 #define ID_LASER_MODE_MP                                        2453
           =2 #define ID_LASER_MODE_GP                                        3876
           =2 /*****************************************************************************/
           =2 #define FBS1_IN_PORT                                            3
           =2 #define FBS2_IN_PORT                                            2
           =2 #define COOLON_OUT_PORT                                         (1 * 8 + 3)
           =2 /*****************************************************************************/
           =2 //PID FUZZY Ä£ºýPIDÅäÖÃ
           =2 #define CONFIG_TECOUT_CYCLE                                     4000//PIDÊä³ö×ªPWMÖÜÆÚ
           =2 /*****************************************************************************/
           =2 =======
           =2 >>>>>>> MCFCL_25MP
           =2 /*****************************************************************************/
           =2 #define DISABLE_MODBUS_SERIAL_INTERRUPT         ES0 = 0;
           =2 #define ENABLE_MODBUS_SERIAL_INTERRUPT          ES0 = 1;
           =2 #define DISABLE_INTERRUPT                                       EA = 0;
           =2 #define ENABLE_INTERRUPT                                        EA = 1;
           =2 /*****************************************************************************/
           =2 //Ö¸Ê¾ºÐ×Ó
           =2 #define R_BOX_RED_SENDED                                        (R_START * 16 + 126)//190
           =2 #define R_BOX_GREEN_SENDED                                      (R_START * 16 + 127)//191
           =2 #define BOX_CMD_STX                                                     0x81
           =2 #define BOX_CMD_ETX                                                     0x84
           =2 #define BOX_SEND_BFADDR                                         (EM_START + 100)//·¢ËÍ»º³åÇøÎ»ÖÃ
           =2 #define BOX_SEND_LENGTH                                         29//·¢ËÍÊý¾ÝÁ¿
           =2 /*****************************************************************************/
           =2 #include "stdint.h"
           =2 #include "stdbool.h"
           =2 #include "endian.h"
           =2 #include "si_toolchain.h"
           =2 #include "compiler_defs.h"
           =2 <<<<<<< HEAD
           =2 #include "C8051F580_defs.h"
           =2 =======
           =2 #include "C8051F020_defs.h"
           =2 >>>>>>> MCFCL_25MP
           =2 /*****************************************************************************/
           =2 #include <stdio.h>
C51 COMPILER V9.59.0.0   EPROM                                                             01/29/2019 14:24:57 PAGE 4   

           =2 #include <stdlib.h> 
           =2 #include <string.h>
           =2 #include <INTRINS.H>
           =2 #include <ctype.h>
           =2 #include <LIMITS.H>
           =2 #include <math.h>
           =2 <<<<<<< HEAD
           =2 /*****************************************************************************/
           =2 #include "InitDeviceF580.h"
           =2 #include "delay.h"
           =2 #include "i2c0.h"
           =2 #include "i2c1.h"
           =2 #include "i2c2.h"
           =2 #include "i2c3.h"
           =2 #include "i2c4.h"
           =2 #include "i2c5.h"
           =2 #include "i2c6.h"
           =2 #include "eprom.h"
           =2 #include "mcp47x6.h"
           =2 #include "inPca9554.h"
           =2 #include "outPca9554.h"
           =2 
           =2 =======
           =2 //#include "crc32.h"
           =2 /*****************************************************************************/
           =2 #include "InitDeviceF020.h"
           =2 #include "delay.h"
           =2 #include "i2c0.h"
           =2 #include "eprom.h"
           =2 #include "dac8568_0.h"
           =2 #include "dac8568_1.h"
           =2 #include "dac8568_2.h"
           =2 #include "dac8568_3.h"
           =2 >>>>>>> MCFCL_25MP
           =2 #if CONFIG_SPLC_USING_UART1 == 1
           =2 #include "sPlcUart.h"
           =2 #endif
           =2 #if CONFIG_SPLC_USING_CADC == 1
           =2 #include "sPlcChipAdc.h"
           =2 #endif
           =2 #if CONFIG_SPLC_USING_DAC == 1
           =2 #include "sPlcDac.h"
           =2 #endif
           =2 /*****************************************************************************/
           =2 #include "Modbus.h"
           =2 #include "ModbusPort.h"
           =2 /*****************************************************************************/
           =2 #include "sPLC.h"
           =2 <<<<<<< HEAD
           =2 #include "sPlcFun.h"
           =2 =======
           =2 #include "sPlcTimer.h"
           =2 #include "sPlcFun.h"
           =2 #include "sPlcLed.h"
           =2 #include "sPlcIo.h"
           =2 #include "sPlcWatchDog.h"
           =2 >>>>>>> MCFCL_25MP
           =2 /*****************************************************************************/
           =2 #endif
   5      =1  /*****************************************************************************/
   6      =1  /*****************************************************************************/
   7      =1  void epromInit(void);
C51 COMPILER V9.59.0.0   EPROM                                                             01/29/2019 14:24:57 PAGE 5   

   8      =1  uint8_t epromReadOneByte(uint16_t ReadAddr);
   9      =1  void epromWriteOneByte(uint16_t WriteAddr, uint8_t DataToWrite);
  10      =1  void epromWriteLenByte(uint16_t WriteAddr, uint32_t DataToWrite, uint8_t Len);
  11      =1  uint32_t epromReadLenByte(uint16_t ReadAddr, uint8_t Len);
  12      =1  void epromRead(uint16_t ReadAddr,uint8_t *pBuffer,uint16_t NumToRead);
  13      =1  void epromWrite(uint16_t WriteAddr, uint8_t *pBuffer, uint16_t NumToWrite);
  14      =1  uint8_t epromTest(void);
  15      =1  #endif
   2          /*****************************************************************************/
   3          /*****************************************************************************/
   4          void epromInit(void){//³õÊ¼»¯IIC½Ó¿Ú
   5                  iic0Init();
   6          }
   7          
   8          uint8_t epromReadOneByte(uint16_t ReadAddr){//ÔÚAT24CXXÖ¸¶¨µØÖ·¶Á³öÒ»¸öÊý¾Ý
   9          //ReadAddr:¿ªÊ¼¶ÁÊýµÄµØÖ·  
  10          //·µ»ØÖµ  :¶Áµ½µÄÊý¾Ý                             
  11                  data uint8_t temp=0;                                                                                                                                                     
  12                  iic0Start();  
  13          #if CONFIG_EPROM_SIZE > CONFIG_AT24C16_SIZE
*** WARNING C322 IN LINE 13 OF Driver\eprom.c: unknown identifier
*** WARNING C322 IN LINE 13 OF Driver\eprom.c: unknown identifier
              //¼æÈÝ24CxxÖÐÆäËûµÄ°æ±¾
                      iic0SendByte(((CONFIG_EPROM_ADDRESS << 1) & 0xFE));//·¢ËÍÐ´ÃüÁî
                      iic0WaitAck();
                      iic0SendByte(ReadAddr >> 8);//·¢ËÍ¸ßµØÖ·                 
              #else 
  19                  iic0SendByte(((CONFIG_EPROM_ADDRESS << 1) & 0xFE) + ((ReadAddr / 256) << 1));//·¢ËÍÆ÷¼þµØÖ·0XA0,Ð´Êý¾Ý   
  20          #endif
  21                  iic0WaitAck(); 
  22                  iic0SendByte(ReadAddr % 256);   //·¢ËÍµÍµØÖ·
  23                  iic0WaitAck();      
  24                  iic0Start();               
  25                  iic0SendByte(((CONFIG_EPROM_ADDRESS << 1) | 0x01));//½øÈë½ÓÊÕÄ£Ê½                          
  26                  iic0WaitAck();   
  27                  temp = iic0ReadByte(0);//¶ÁÒ»¸ö×Ö½Ú£¬·ÇÓ¦´ðÐÅºÅÐÅºÅ        
  28                  iic0Stop();        //²úÉúÒ»¸öÍ£Ö¹Ìõ¼þ
  29                  return temp;
  30          }
  31          
  32          void epromWriteOneByte(uint16_t WriteAddr, uint8_t DataToWrite){//ÔÚAT24CXXÖ¸¶¨µØÖ·Ð´ÈëÒ»¸öÊý¾Ý
  33          //WriteAddr  :Ð´ÈëÊý¾ÝµÄÄ¿µÄµØÖ·    
  34          //DataToWrite:ÒªÐ´ÈëµÄÊý¾Ý                                                                                                                                                                               
  35                  iic0Start();  
  36          #if CONFIG_EPROM_SIZE > CONFIG_AT24C16_SIZE
*** WARNING C322 IN LINE 36 OF Driver\eprom.c: unknown identifier
*** WARNING C322 IN LINE 36 OF Driver\eprom.c: unknown identifier
                      iic0SendByte(((CONFIG_EPROM_ADDRESS << 1) & 0xFE));         //·¢ËÍÐ´ÃüÁî
                      iic0WaitAck();
                      iic0SendByte(WriteAddr >> 8);    //·¢ËÍ¸ßµØÖ·
              #else
  41                  iic0SendByte(((CONFIG_EPROM_ADDR << 1) & 0xFE) +( (WriteAddr / 256) << 1));   //·¢ËÍÆ÷¼þµØÖ·0XA0,Ð´Êý¾Ý 
  42          #endif 
  43                  iic0WaitAck();     
  44                  iic0SendByte(WriteAddr % 256);   //·¢ËÍµÍµØÖ·
  45                  iic0WaitAck();                                                                                                     
  46                  iic0SendByte(DataToWrite);     //·¢ËÍ×Ö½Ú                                                          
  47                  iic0WaitAck();                             
  48                  iic0Stop();//²úÉúÒ»¸öÍ£Ö¹Ìõ¼þ 
  49          #if CONFIG_EPROM_FRAM != 1
*** WARNING C322 IN LINE 49 OF Driver\eprom.c: unknown identifier
  50                  delayMs(10);    
C51 COMPILER V9.59.0.0   EPROM                                                             01/29/2019 14:24:57 PAGE 6   

  51          #endif
  52          }
  53          
  54          void epromWriteLenByte(uint16_t WriteAddr, uint32_t DataToWrite, uint8_t Len){//ÔÚAT24CXXÀïÃæµÄÖ¸¶¨µØÖ·¿ªÊ
             -¼Ð´Èë³¤¶ÈÎªLenµÄÊý¾Ý
  55          //¸Ãº¯ÊýÓÃÓÚÐ´Èë16bit»òÕß32bitµÄÊý¾Ý.
  56          //WriteAddr  :¿ªÊ¼Ð´ÈëµÄµØÖ·  
  57          //DataToWrite:Êý¾ÝÊý×éÊ×µØÖ·
  58          //Len        :ÒªÐ´ÈëÊý¾ÝµÄ³¤¶È2,4       
  59                  data uint8_t t;
  60                  for(t = 0;t < Len;t ++){
  61                          epromWriteOneByte(WriteAddr + t, (DataToWrite >> (8 * t)) & 0xff);
  62                  }                                                                                                   
  63          }
  64          uint32_t epromReadLenByte(uint16_t ReadAddr, uint8_t Len){//ÔÚAT24CXXÀïÃæµÄÖ¸¶¨µØÖ·¿ªÊ¼¶Á³ö³¤¶ÈÎªLenµÄÊý¾Ý
  65          //¸Ãº¯ÊýÓÃÓÚ¶Á³ö16bit»òÕß32bitµÄÊý¾Ý.
  66          //ReadAddr   :¿ªÊ¼¶Á³öµÄµØÖ· 
  67          //·µ»ØÖµ     :Êý¾Ý
  68          //Len        :Òª¶Á³öÊý¾ÝµÄ³¤¶È2,4       
  69                  data uint8_t t;
  70                  uint32_t temp=0;
  71                  for(t = 0;t < Len;t ++){
  72                          temp <<= 8;
  73                          temp += epromReadOneByte(ReadAddr + Len - t - 1);                                          
  74                  }
  75                  return temp;                                                                                                
  76          }
  77               
  78          void epromRead(uint16_t ReadAddr, uint8_t *pBuffer,uint16_t NumToRead){//ÔÚAT24CXXÀïÃæµÄÖ¸¶¨µØÖ·¿ªÊ¼¶Á³öÖ¸
             -¶¨¸öÊýµÄÊý¾Ý
  79          //ReadAddr :¿ªÊ¼¶Á³öµÄµØÖ· ¶Ô24c02Îª0~255
  80          //pBuffer  :Êý¾ÝÊý×éÊ×µØÖ·
  81          //NumToRead:Òª¶Á³öÊý¾ÝµÄ¸öÊý
  82                  while(NumToRead){
  83                          *pBuffer++ = epromReadOneByte(ReadAddr ++);     
  84                          NumToRead --;
  85                  }
  86          }  
  87          void epromWrite(uint16_t WriteAddr, uint8_t *pBuffer, uint16_t NumToWrite){//ÔÚAT24CXXÀïÃæµÄÖ¸¶¨µØÖ·¿ªÊ¼Ð´
             -ÈëÖ¸¶¨¸öÊýµÄÊý¾Ý
  88          //WriteAddr :¿ªÊ¼Ð´ÈëµÄµØÖ· ¶Ô24c02Îª0~255
  89          //pBuffer   :Êý¾ÝÊý×éÊ×µØÖ·
  90          //NumToWrite:ÒªÐ´ÈëÊý¾ÝµÄ¸öÊý
  91                  while(NumToWrite --){
  92                          epromWriteOneByte(WriteAddr, *pBuffer);
  93                          WriteAddr ++;
  94                          pBuffer ++;
  95                  }
  96          }
  97          #if CONFIG_EPROM_PAGEWRITE == 1
*** WARNING C322 IN LINE 97 OF Driver\eprom.c: unknown identifier
              void epromWritePage(uint16_t data pageAddr, uint8_t *pBuffer,uint8_t data NumToWrite){//24C32ÒÔÉÏÈÝÁ¿°´Ò³Ã
             -æÐ´Èë
              
              }
              #endif
 102          uint8_t epromTest(void){//EPROM ¶ÁÐ´×Ô²âÊÔ
 103                  idata uint32_t i;       
 104                  idata uint8_t result;
 105                  for(i = 0;i < CONFIG_EPROM_SIZE;i ++){
 106                          setLedEprom(DEBUG_LED_ON);
 107                          epromWriteOneByte(i, (i & 0xFF));
C51 COMPILER V9.59.0.0   EPROM                                                             01/29/2019 14:24:57 PAGE 7   

 108                          setLedEprom(DEBUG_LED_OFF);
 109                  }
 110                  result = 0;
 111                  for(i = 0;i < CONFIG_EPROM_SIZE;i ++){
 112                          setLedEprom(DEBUG_LED_ON);
 113                          if(epromReadOneByte(i) != (i & 0xFF)){
 114                                  return false;
 115                          }
 116                          setLedEprom(DEBUG_LED_OFF);
 117                  }
 118                  return true;
 119          }
*** WARNING C316 IN LINE 119 OF Driver\eprom.c: unterminated conditionals

C51 COMPILATION COMPLETE.  8 WARNING(S),  2 ERROR(S)
